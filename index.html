<html>
  <head>
    <title>WebDraw - an experiment in learning WebGL</title>

    <!-- Library which provides vector, matrix & quaternion classes. -->
    <script type="text/javascript" src="gl-matrix.js"></script>

    <!-- Library which provides WebGL setup helpers. -->
    <script type="text/javascript" src="webgl-utils.js"></script>

    <!-- My code for this page. -->
    <script type="text/javascript" src="webdraw.js"></script>

    <!-- Vertex shader. -->
    <script type="x-shader/x-vertex" id="shader-vs">
      attribute vec3 vertexPos;
      //attribute vec4 vertexColor;
      attribute vec2 vertexTexCoord;

      uniform mat4 localToWorldMatrix;
      uniform mat4 worldToViewportMatrix;

      //varying vec4 vColor;
      varying vec2 vTexCoord;
      varying vec3 vWorldPos;

      void main()
      {
        vec4 worldPos = localToWorldMatrix * vec4(vertexPos, 1);
        gl_Position = worldToViewportMatrix * worldPos;
        //vColor = vertexColor;
        vTexCoord = vertexTexCoord;
        vWorldPos = worldPos.xyz;
      }
    </script>

    <!-- Fragment shader. -->
    <script type="x-shader/x-fragment" id="shader-fs">
      precision mediump float;

      //varying vec4 vColor;
      varying vec2 vTexCoord;
      varying vec3 vWorldPos;

      uniform sampler2D tex;

      void main()
      {
        //gl_FragColor = vColor;
        //gl_FragColor = texture2D(tex, vTexCoord);
        gl_FragColor = vec4(vWorldPos, 1);
      }
    </script>
  </head>
  <body onload='webGLStart("webdraw-canvas");'>
    <canvas id="webdraw-canvas" width="500" height="500"></canvas>
  </body>
</html>
